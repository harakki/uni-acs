# ACSCGW

Расчетно-графическая работа.

## Задание

Для заданий, подразумевающих запуск веб-приложения, терминирует *ssl* и обрабатывает домены *nginx* в режиме прокси-сервера или *traefik*.

Приложения должны быть доступны по стандартному *https* порту (https://a.example.com, ...).

### DoD На 5: Запустить кластер Slurm с Open MPI на базе ВМ/контейнеров

- 2-3 ВМ или контейнера, кластер *slurm* функционирует (`sinfo` показывает что агенты работают);

- 1 ВМ/контейнер является управляющим узлом *slurm*, остальные - воркерами;

- Стандартная программа Hello MPI World запускается и отрабатывает корректно через *sbatch*;

- *Open MPI* и *Slurm* собираются из исходников (configure/make);

- Реализовать таким образом, чтобы файл программы достаточно было поместить на один из серверов для работы;

- Конфигурацию передавать через *volume*;

- Оформить как *docker-compose.yml* в случае запуска через контейнеры;

- При пересоздании проекта, все настройки должны сохраниться (down && up);

- Продемонстрировать добавление нового воркер-узла.

### DoD На 5: nginx/traefik + Prometheus + grafana + telegraf/node_exporter/cadvisor + alertmanager

- Интерфейсы доступны по разным доменам (*prometheus*, *alertmanager*, *grafana*) с https;

- Настроен сбор метрик с exporter'ов (*node*, *cadvisor*, *telegraf*) *prometheus*'ом;

- Сделано несколько визуализаций в *grafana*;

- При пересоздании проекта, все настройки и данные должны сохраниться;

- Оформить как *docker-compose.yml*;

- Конфигурацию передавать через *volume*;

- На одну из метрик настроен алертинг.

### DoD На 4: Запуск jenkins и разработка сценариев CD

- Интерфейс доступен по https (*jenkins*);

- В *jenkins* создан пайплайн/задача/таск, работающий с репозиторием *GitLab*/*GitHub*.
При изменении в репозитории автоматически запускается задача обновления docker-контейнера с содержимым репозитория (либо сборка образа с новым приложением и обновление контейнера);

- Оформить как *docker-compose.yml*;

- При пересоздании проекта, все настройки *jenkins* должны сохраниться.

### DoD На 3: nginx/traefik + nexus3  + minio s3 store

- Доступно по https (*nexus*, *minio*);

- Для хранения артефактов настроен репозиторий с хранением в *s3*.
В качестве примера, сделать репозиторий с типом `docker registry` и настроить таким образом, чтобы была возможность сделать push образа. Или репозиторий с типом `raw` и загрузить файл в *nexus*;

- Настроить на локальной (Управляющей) машине *s3cmd* для работы с *minio*;

- Загрузить файл в отдельный *s3-bucket* через *s3cmd*;

- Оформить как *docker-compose.yml*;

- При пересоздании проекта, все настройки и данные должны сохраниться.
