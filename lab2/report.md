# Отчет по лабораторной работе 2

### Автор: Шипилов Дементий, ИП-215

## Контейнеры

Для запуска Докер-контейнера с образом *nginx* и сетевым доступом, необходимо выполнить команду `docker run <параметры> <тег_образа>` с передачей тега нужного контейнера и замапленными портами (`docker run -p 80:80 -p 443:443 --name nginx -d nginx:latest`). После запуска доступна стартовая страница *nginx* в браузере по адресу *localhost:80*.

Для остановки Докер-контейнера, необходимо выполнить команду `docker stop <имя_контейнера>` на хост-машине, передав в качестве параметра имя запущенного контейнера.

### Запуск контейнера

При запуске контейнера, *Docker* проверяет наличие образа в локальном хранилище и, в случае, если его нет, загружает образ из репозитория.

Далее, создается изолированное окружение (*зависимости, файловая система и т.д.*) на основе сущестующего образа; Запускается контейнер. Сам контейнер, в отличие от виртуальной машины, имеет доступ к ресурсам хост-машины (*а не эмулирует аппаратное обеспечение*), работает на том же ядре и управляется отдельным демоном (*Docker Daemon*).

### Остановка контейнера

При остановке контейнера, служба *Docker* отправляет `SIGTERM` процессу, запущенному внутри контейнера. В случае, если процесс не был завершен в течение некоторого времени (*по умолчанию - 10 секунд*), отправляется `SIGKILL`.

После остановки контейнера, система освобождает связанные с контейнером ресурсы и сервис *Docker* переводит контейнер в неактивное состояние.

## На 4

### Уровни изоляции контейнера

Уровни изоляции контейнера от хост-машины продемонстрированы в скрипте [script.sh](./script.sh).

## На 5

### Для чего используется cgroups

*Cgroups* используются Докером для управления и ограничения использования процессами вычислительных ресурсов (*процессорных, сетевых, ресурсов памяти и ресурсов ввода-вывода*), а также их изоляции, приоритезации, учета, мониторинга и группировки[[1]](https://ru.wikipedia.org/wiki/Контрольная_группа_(Linux)).

Узнать больше о *cgroups* можно [здесь](https://habr.com/ru/companies/selectel/articles/303190).

### Собственный Docker-образ

Для сборки Докер-образа и запуска контейнера необходимо выполнить следующие команды:

```sh
docker build . -t signal-handler:latest
docker run signal-handler:latest
```
